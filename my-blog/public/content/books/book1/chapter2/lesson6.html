<div class="lesson-container">
  <p class="lesson-intro">ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i <strong>BÃ i 6</strong>. ÄÃ¢y lÃ  bÃ i há»c giáº£i quyáº¿t sá»± khÃ³ chá»‹u lá»›n nháº¥t cá»§a láº­p trÃ¬nh viÃªn C# khi má»›i há»c Rust:<br>
  <strong>Táº¡i sao Rust láº¡i cÃ³ tá»›i 2 kiá»ƒu chuá»—i (String vÃ  &str)?</strong><br><br>
  Trong C#, báº¡n chá»‰ cÃ³ má»™t kiá»ƒu <code>string</code> (hoáº·c <code>StringBuilder</code> khi cáº§n tá»‘i Æ°u).<br>
  Trong Rust, sá»± phÃ¢n biá»‡t nÃ y chÃ­nh lÃ  <strong>chÃ¬a khÃ³a cá»§a hiá»‡u nÄƒng Zero-Cost Abstraction</strong> â€“ trá»«u tÆ°á»£ng hÃ³a khÃ´ng tá»‘n phÃ­.</p>

  <h1 class="lesson-part">PHáº¦N 1: TÆ¯ DUY Cá»T LÃ•I & "CAI NGHIá»†N" GC</h1>
  <h2 class="lesson-chapter">CHÆ¯Æ NG 2: OWNERSHIP & BORROWING - "LINH Há»’N" Cá»¦A RUST</h2>
  <h3 class="lesson-title">BÃ€I 6: SLICES & STRINGS <span class="lesson-subtitle">(LÃT Cáº®T & CHUá»–I)</span></h3>

  <p class="lesson-note">Náº¿u báº¡n Ä‘Ã£ tá»«ng nghe Ä‘áº¿n <code>Span&lt;T&gt;</code> hay <code>ReadOnlySpan&lt;T&gt;</code> trong .NET Core Ä‘á»ƒ tá»‘i Æ°u bá»™ nhá»›, thÃ¬ xin chÃºc má»«ng:<br>
  <strong>Slice trong Rust chÃ­nh lÃ  concept Ä‘Ã³ â€” nhÆ°ng Ä‘Æ°á»£c tÃ­ch há»£p sÃ¢u vÃ o cá»‘t lÃµi ngÃ´n ngá»¯ tá»« ngÃ y Ä‘áº§u tiÃªn.</strong></p>

  <h4 class="lesson-section">1. PhÃ¢n biá»‡t String vÃ  &str</h4>
  <table class="lesson-table">
    <thead>
      <tr>
        <th>Äáº·c Ä‘iá»ƒm</th>
        <th>String (The Owner)</th>
        <th>&str (The Viewer / Slice)</th>
        <th>TÆ°Æ¡ng Ä‘Æ°Æ¡ng C#</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>Bá»™ nhá»›</td><td>Náº±m trÃªn Heap, co giÃ£n Ä‘Æ°á»£c</td><td>Cá»­a sá»• nhÃ¬n vÃ o bá»™ nhá»› (Heap/Stack/Static)</td><td>StringBuilder / List&lt;char&gt;</td></tr>
      <tr><td>Quyá»n sá»Ÿ há»¯u</td><td><strong>Sá» Há»®U</strong> dá»¯ liá»‡u â†’ Drop khi háº¿t scope</td><td><strong>VAY MÆ¯á»¢N</strong> â†’ KhÃ´ng Drop</td><td>ReadOnlySpan&lt;char&gt; / string literal</td></tr>
      <tr><td>KÃ­ch thÆ°á»›c</td><td>3 pháº§n: ptr + len + capacity</td><td>2 pháº§n: ptr + len</td><td>â€”</td></tr>
      <tr><td>TÃ­nh cháº¥t</td><td>Mutable (náº¿u mut)</td><td><strong>LuÃ´n Immutable</strong></td><td>â€”</td></tr>
    </tbody>
  </table>

  <div class="lesson-analogy">
    <p><strong>áº¨n dá»¥ Ä‘áº¹p nháº¥t:</strong></p>
    <ul>
      <li><strong>String</strong>: Quyá»ƒn sÃ¡ch báº¡n <strong>mua vá»</strong> â†’ báº¡n cÃ³ thá»ƒ viáº¿t thÃªm, xÃ© trang, Ä‘á»‘t luÃ´n.</li>
      <li><strong>&str</strong>: CÃ¡i <strong>kÃ­nh lÃºp</strong> Ä‘á»ƒ Ä‘á»c má»™t Ä‘oáº¡n trong sÃ¡ch â†’ báº¡n chá»‰ nhÃ¬n Ä‘Æ°á»£c, khÃ´ng thá»ƒ sá»­a sÃ¡ch qua kÃ­nh.</li>
    </ul>
  </div>

  <h4 class="lesson-section">2. Slices: Cáº¯t bÃ¡nh mÃ  khÃ´ng cáº§n copy</h4>
  <pre class="lesson-code"><code class="lesson-code-rust">fn main() {
    let s = String::from("Hello World");

    let hello = &s[0..5];   // "Hello"
    let world = &s[6..11];  // "World"

    // CÃº phÃ¡p táº¯t
    let slice1 = &s[..2];   // "He"
    let slice2 = &s[3..];   // "lo World"
    let slice3 = &s[..];    // ToÃ n bá»™ â†’ chuyá»ƒn String thÃ nh &str

    println!("Original váº«n sá»‘ng: {}", s);
    println!("Slice: {}", world);
}</code></pre>
  <p class="lesson-highlight">KhÃ´ng cÃ³ byte nÃ o Ä‘Æ°á»£c copy! Chá»‰ táº¡o 2 sá»‘ nhá» trÃªn Stack: <strong>Pointer + Length</strong>.</p>

  <h4 class="lesson-section">3. String Literals LÃ€ Slices</h4>
  <pre class="lesson-code"><code class="lesson-code-rust">let s = "Hello"; // Kiá»ƒu cá»§a s lÃ  &str (khÃ´ng pháº£i String!)</code></pre>
  <p class="lesson-text">Chuá»—i nÃ y Ä‘Æ°á»£c nhÃºng cá»©ng vÃ o binary â†’ báº¥t biáº¿n vÄ©nh viá»…n.</p>

  <h4 class="lesson-section">4. Array Slices (KhÃ´ng chá»‰ dÃ nh cho chuá»—i)</h4>
  <pre class="lesson-code"><code class="lesson-code-rust">let a = [1, 2, 3, 4, 5];
let slice = &a[1..3];   // &[i32] = [2, 3]
assert_eq!(slice, &[2, 3]);</code></pre>

  <h4 class="lesson-section">5. Cáº¡m báº«y: UTF-8 vÃ  rá»§i ro Panic</h4>
  <div class="lesson-warning">
    <p>Rust dÃ¹ng UTF-8 â†’ kÃ½ tá»± khÃ´ng cá»‘ Ä‘á»‹nh sá»‘ byte:</p>
    <ul>
      <li>A â†’ 1 byte</li>
      <li>Ã  â†’ 2 byte</li>
      <li>ğŸ¦€ â†’ 4 byte</li>
    </ul>
    <p><strong>Cáº¯t sai index â†’ chÆ°Æ¡ng trÃ¬nh PANIC ngay láº­p tá»©c!</strong></p>
  </div>
  <p class="lesson-tip"><strong>Lá»i khuyÃªn vÃ ng:</strong> Vá»›i tiáº¿ng Viá»‡t/emoji â†’ <strong>khÃ´ng bao giá» dÃ¹ng index thá»§ cÃ´ng</strong>. DÃ¹ng <code>.chars()</code> hoáº·c <code>.char_indices()</code>.</p>

  <h4 class="lesson-section">6. Best Practice: Tham sá»‘ hÃ m â†’ LuÃ´n dÃ¹ng &str</h4>
  <pre class="lesson-code"><code class="lesson-code-rust">// Tá»T NHáº¤T
fn print_message(msg: &str) { ... }

// CHáº¤P NHáº¬N ÄÆ¯á»¢C:
// - String literal: "hello"
// - String object: &my_string
// - Slice: &my_string[0..5]

// KhÃ´ng tá»‘t
fn print_owned(msg: String) { ... } // Chá»‰ nháº­n String, khÃ´ng nháº­n literal</code></pre>

  <h4 class="lesson-section">7. BÃ i táº­p thá»±c hÃ nh: First Word Extraction</h4>
  <pre class="lesson-code"><code class="lesson-code-rust">fn first_word(s: &str) -> &str {
    let bytes = s.as_bytes();

    for (i, &item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &s[0..i];
        }
    }
    &s[..] // KhÃ´ng cÃ³ khoáº£ng tráº¯ng â†’ tráº£ vá» toÃ n bá»™
}

fn main() {
    let s = String::from("Hello Rust World");
    let word = first_word(&s);
    
    // s.clear(); // Náº¿u bá» comment â†’ Lá»–I! VÃ¬ word Ä‘ang mÆ°á»£n s
    println!("First word: {}", word);
}</code></pre>
  <p class="lesson-highlight">Rust cá»©u báº¡n khá»i dangling pointer mÃ  khÃ´ng cáº§n GC!</p>

  <h3 class="lesson-summary">Tá»”NG Káº¾T BÃ€I 6</h3>
  <div class="lesson-summary-box">
    <ol class="lesson-summary-list">
      <li><strong>String</strong>: Chá»§ sá»Ÿ há»¯u, Heap, mutable, náº·ng.</li>
      <li><strong>&str</strong>: Slice, chá»‰ mÆ°á»£n, siÃªu nháº¹, immutable.</li>
      <li><strong>Slicing</strong>: <code>&s[start..end]</code> â†’ khÃ´ng copy dá»¯ liá»‡u.</li>
      <li><strong>Tham sá»‘ hÃ m</strong>: LuÃ´n dÃ¹ng <code>&str</code> Ä‘á»ƒ linh hoáº¡t vÃ  nhanh nháº¥t.</li>
    </ol>
  </div>

  <div class="lesson-homework">
    <p><strong>BÃ i táº­p vá» nhÃ :</strong><br>
    Viáº¿t láº¡i hÃ m <code>first_word</code> nhÆ°ng láº§n nÃ y tráº£ vá» <strong>Second Word</strong>.<br>
    Gá»£i Ã½: Cáº§n 2 biáº¿n index (báº¯t Ä‘áº§u vÃ  káº¿t thÃºc tá»« thá»© 2).</p>
  </div>

  <p class="lesson-ending">
    (ChÃºc má»«ng báº¡n Ä‘Ã£ <strong>hoÃ n thÃ nh ChÆ°Æ¡ng 2</strong> â€“ chÆ°Æ¡ng khÃ³ nháº¥t vá» tÆ° duy!<br>
    Háº¹n gáº·p láº¡i á»Ÿ <strong>ChÆ°Æ¡ng 3: Cáº¥u trÃºc dá»¯ liá»‡u</strong>.<br>
    ChÃºng ta sáº½ há»c cÃ¡ch táº¡o ra cÃ¡c â€œClassâ€... Ã  nháº§m, cÃ¡c <strong>Structs</strong> trong Rust,<br>
    vÃ  xem táº¡i sao Rust láº¡i dÅ©ng cáº£m nÃ³i <strong>â€œKhÃ´ngâ€ vá»›i Káº¿ thá»«a (Inheritance)</strong>!)
  </p>
</div>