<div class="lesstion-6-container">
  <p class="lesstion-6-intro">Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi <strong>B√†i 6</strong>. ƒê√¢y l√† b√†i h·ªçc gi·∫£i quy·∫øt s·ª± kh√≥ ch·ªãu l·ªõn nh·∫•t c·ªßa l·∫≠p tr√¨nh vi√™n C# khi m·ªõi h·ªçc Rust:<br>
  <strong>T·∫°i sao Rust l·∫°i c√≥ t·ªõi 2 ki·ªÉu chu·ªói (String v√† &str)?</strong><br><br>
  Trong C#, b·∫°n ch·ªâ c√≥ m·ªôt ki·ªÉu <code>string</code> (ho·∫∑c <code>StringBuilder</code> khi c·∫ßn t·ªëi ∆∞u).<br>
  Trong Rust, s·ª± ph√¢n bi·ªát n√†y ch√≠nh l√† <strong>ch√¨a kh√≥a c·ªßa hi·ªáu nƒÉng Zero-Cost Abstraction</strong> ‚Äì tr·ª´u t∆∞·ª£ng h√≥a kh√¥ng t·ªën ph√≠.</p>

  <h1 class="lesstion-6-part">PH·∫¶N 1: T∆Ø DUY C·ªêT L√ïI & "CAI NGHI·ªÜN" GC</h1>
  <h2 class="lesstion-6-chapter">CH∆Ø∆†NG 2: OWNERSHIP & BORROWING - "LINH H·ªíN" C·ª¶A RUST</h2>
  <h3 class="lesstion-6-title">B√ÄI 6: SLICES & STRINGS <span class="lesstion-6-subtitle">(L√ÅT C·∫ÆT & CHU·ªñI)</span></h3>

  <p class="lesstion-6-note">N·∫øu b·∫°n ƒë√£ t·ª´ng nghe ƒë·∫øn <code>Span&lt;T&gt;</code> hay <code>ReadOnlySpan&lt;T&gt;</code> trong .NET Core ƒë·ªÉ t·ªëi ∆∞u b·ªô nh·ªõ, th√¨ xin ch√∫c m·ª´ng:<br>
  <strong>Slice trong Rust ch√≠nh l√† concept ƒë√≥ ‚Äî nh∆∞ng ƒë∆∞·ª£c t√≠ch h·ª£p s√¢u v√†o c·ªët l√µi ng√¥n ng·ªØ t·ª´ ng√†y ƒë·∫ßu ti√™n.</strong></p>

  <h4 class="lesstion-6-section">1. Ph√¢n bi·ªát String v√† &str</h4>
  <table class="lesstion-6-table">
    <thead>
      <tr>
        <th>ƒê·∫∑c ƒëi·ªÉm</th>
        <th>String (The Owner)</th>
        <th>&str (The Viewer / Slice)</th>
        <th>T∆∞∆°ng ƒë∆∞∆°ng C#</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>B·ªô nh·ªõ</td><td>N·∫±m tr√™n Heap, co gi√£n ƒë∆∞·ª£c</td><td>C·ª≠a s·ªï nh√¨n v√†o b·ªô nh·ªõ (Heap/Stack/Static)</td><td>StringBuilder / List&lt;char&gt;</td></tr>
      <tr><td>Quy·ªÅn s·ªü h·ªØu</td><td><strong>S·ªû H·ªÆU</strong> d·ªØ li·ªáu ‚Üí Drop khi h·∫øt scope</td><td><strong>VAY M∆Ø·ª¢N</strong> ‚Üí Kh√¥ng Drop</td><td>ReadOnlySpan&lt;char&gt; / string literal</td></tr>
      <tr><td>K√≠ch th∆∞·ªõc</td><td>3 ph·∫ßn: ptr + len + capacity</td><td>2 ph·∫ßn: ptr + len</td><td>‚Äî</td></tr>
      <tr><td>T√≠nh ch·∫•t</td><td>Mutable (n·∫øu mut)</td><td><strong>Lu√¥n Immutable</strong></td><td>‚Äî</td></tr>
    </tbody>
  </table>

  <div class="lesstion-6-analogy">
    <p><strong>·∫®n d·ª• ƒë·∫πp nh·∫•t:</strong></p>
    <ul>
      <li><strong>String</strong>: Quy·ªÉn s√°ch b·∫°n <strong>mua v·ªÅ</strong> ‚Üí b·∫°n c√≥ th·ªÉ vi·∫øt th√™m, x√© trang, ƒë·ªët lu√¥n.</li>
      <li><strong>&str</strong>: C√°i <strong>k√≠nh l√∫p</strong> ƒë·ªÉ ƒë·ªçc m·ªôt ƒëo·∫°n trong s√°ch ‚Üí b·∫°n ch·ªâ nh√¨n ƒë∆∞·ª£c, kh√¥ng th·ªÉ s·ª≠a s√°ch qua k√≠nh.</li>
    </ul>
  </div>

  <h4 class="lesstion-6-section">2. Slices: C·∫Øt b√°nh m√† kh√¥ng c·∫ßn copy</h4>
  <pre class="lesstion-6-code"><code class="lesstion-6-code-rust">fn main() {
    let s = String::from("Hello World");

    let hello = &s[0..5];   // "Hello"
    let world = &s[6..11];  // "World"

    // C√∫ ph√°p t·∫Øt
    let slice1 = &s[..2];   // "He"
    let slice2 = &s[3..];   // "lo World"
    let slice3 = &s[..];    // To√†n b·ªô ‚Üí chuy·ªÉn String th√†nh &str

    println!("Original v·∫´n s·ªëng: {}", s);
    println!("Slice: {}", world);
}</code></pre>
  <p class="lesstion-6-highlight">Kh√¥ng c√≥ byte n√†o ƒë∆∞·ª£c copy! Ch·ªâ t·∫°o 2 s·ªë nh·ªè tr√™n Stack: <strong>Pointer + Length</strong>.</p>

  <h4 class="lesstion-6-section">3. String Literals L√Ä Slices</h4>
  <pre class="lesstion-6-code"><code class="lesstion-6-code-rust">let s = "Hello"; // Ki·ªÉu c·ªßa s l√† &str (kh√¥ng ph·∫£i String!)</code></pre>
  <p class="lesstion-6-text">Chu·ªói n√†y ƒë∆∞·ª£c nh√∫ng c·ª©ng v√†o binary ‚Üí b·∫•t bi·∫øn vƒ©nh vi·ªÖn.</p>

  <h4 class="lesstion-6-section">4. Array Slices (Kh√¥ng ch·ªâ d√†nh cho chu·ªói)</h4>
  <pre class="lesstion-6-code"><code class="lesstion-6-code-rust">let a = [1, 2, 3, 4, 5];
let slice = &a[1..3];   // &[i32] = [2, 3]
assert_eq!(slice, &[2, 3]);</code></pre>

  <h4 class="lesstion-6-section">5. C·∫°m b·∫´y: UTF-8 v√† r·ªßi ro Panic</h4>
  <div class="lesstion-6-warning">
    <p>Rust d√πng UTF-8 ‚Üí k√Ω t·ª± kh√¥ng c·ªë ƒë·ªãnh s·ªë byte:</p>
    <ul>
      <li>A ‚Üí 1 byte</li>
      <li>√† ‚Üí 2 byte</li>
      <li>ü¶Ä ‚Üí 4 byte</li>
    </ul>
    <p><strong>C·∫Øt sai index ‚Üí ch∆∞∆°ng tr√¨nh PANIC ngay l·∫≠p t·ª©c!</strong></p>
  </div>
  <p class="lesstion-6-tip"><strong>L·ªùi khuy√™n v√†ng:</strong> V·ªõi ti·∫øng Vi·ªát/emoji ‚Üí <strong>kh√¥ng bao gi·ªù d√πng index th·ªß c√¥ng</strong>. D√πng <code>.chars()</code> ho·∫∑c <code>.char_indices()</code>.</p>

  <h4 class="lesstion-6-section">6. Best Practice: Tham s·ªë h√†m ‚Üí Lu√¥n d√πng &str</h4>
  <pre class="lesstion-6-code"><code class="lesstion-6-code-rust">// T·ªêT NH·∫§T
fn print_message(msg: &str) { ... }

// CH·∫§P NH·∫¨N ƒê∆Ø·ª¢C:
// - String literal: "hello"
// - String object: &my_string
// - Slice: &my_string[0..5]

// Kh√¥ng t·ªët
fn print_owned(msg: String) { ... } // Ch·ªâ nh·∫≠n String, kh√¥ng nh·∫≠n literal</code></pre>

  <h4 class="lesstion-6-section">7. B√†i t·∫≠p th·ª±c h√†nh: First Word Extraction</h4>
  <pre class="lesstion-6-code"><code class="lesstion-6-code-rust">fn first_word(s: &str) -> &str {
    let bytes = s.as_bytes();

    for (i, &item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &s[0..i];
        }
    }
    &s[..] // Kh√¥ng c√≥ kho·∫£ng tr·∫Øng ‚Üí tr·∫£ v·ªÅ to√†n b·ªô
}

fn main() {
    let s = String::from("Hello Rust World");
    let word = first_word(&s);
    
    // s.clear(); // N·∫øu b·ªè comment ‚Üí L·ªñI! V√¨ word ƒëang m∆∞·ª£n s
    println!("First word: {}", word);
}</code></pre>
  <p class="lesstion-6-highlight">Rust c·ª©u b·∫°n kh·ªèi dangling pointer m√† kh√¥ng c·∫ßn GC!</p>

  <h3 class="lesstion-6-summary">T·ªîNG K·∫æT B√ÄI 6</h3>
  <div class="lesstion-6-summary-box">
    <ol class="lesstion-6-summary-list">
      <li><strong>String</strong>: Ch·ªß s·ªü h·ªØu, Heap, mutable, n·∫∑ng.</li>
      <li><strong>&str</strong>: Slice, ch·ªâ m∆∞·ª£n, si√™u nh·∫π, immutable.</li>
      <li><strong>Slicing</strong>: <code>&s[start..end]</code> ‚Üí kh√¥ng copy d·ªØ li·ªáu.</li>
      <li><strong>Tham s·ªë h√†m</strong>: Lu√¥n d√πng <code>&str</code> ƒë·ªÉ linh ho·∫°t v√† nhanh nh·∫•t.</li>
    </ol>
  </div>

  <div class="lesstion-6-homework">
    <p><strong>B√†i t·∫≠p v·ªÅ nh√†:</strong><br>
    Vi·∫øt l·∫°i h√†m <code>first_word</code> nh∆∞ng l·∫ßn n√†y tr·∫£ v·ªÅ <strong>Second Word</strong>.<br>
    G·ª£i √Ω: C·∫ßn 2 bi·∫øn index (b·∫Øt ƒë·∫ßu v√† k·∫øt th√∫c t·ª´ th·ª© 2).</p>
  </div>

  <p class="lesstion-6-ending">
    (Ch√∫c m·ª´ng b·∫°n ƒë√£ <strong>ho√†n th√†nh Ch∆∞∆°ng 2</strong> ‚Äì ch∆∞∆°ng kh√≥ nh·∫•t v·ªÅ t∆∞ duy!<br>
    H·∫πn g·∫∑p l·∫°i ·ªü <strong>Ch∆∞∆°ng 3: C·∫•u tr√∫c d·ªØ li·ªáu</strong>.<br>
    Ch√∫ng ta s·∫Ω h·ªçc c√°ch t·∫°o ra c√°c ‚ÄúClass‚Äù... √† nh·∫ßm, c√°c <strong>Structs</strong> trong Rust,<br>
    v√† xem t·∫°i sao Rust l·∫°i d≈©ng c·∫£m n√≥i <strong>‚ÄúKh√¥ng‚Äù v·ªõi K·∫ø th·ª´a (Inheritance)</strong>!)
  </p>
</div>

<style>
  .lesstion-6-container {
    font-family: "Segoe UI", Arial, sans-serif;
    line-height: 1.8;
    max-width: 920px;
    margin: 0 auto;
    padding: 40px;
    color: #2d2d2d;
  }
  .lesstion-6-intro {
    font-size: 1.22em;
    text-align: center;
    background: linear-gradient(135deg, #fffbe6 0%, #fff1eb 100%);
    padding: 28px;
    border-radius: 14px;
    border: 4px solid #fa8c16;
    margin-bottom: 40px;
  }
  .lesstion-6-part { font-size: 1.6em; text-align: center; color: #c41f3e; margin: 40px 0 10px; }
  .lesstion-6-chapter { font-size: 2.1em; text-align: center; color: #722ed1; margin-bottom: 10px; }
  .lesstion-6-title { font-size: 1.95em; text-align: center; margin: 30px 0 15px; }
  .lesstion-6-subtitle { font-size: 0.9em; color: #9254de; font-style: italic; }
  .lesstion-6-note { background: #f6ffed; border-left: 6px solid #52c41a; padding: 20px; font-size: 1.1em; margin: 25px 0; border-radius: 8px; }
  .lesstion-6-table {
    width: 100%; border-collapse: collapse; margin: 30px 0; background: #fafafa; font-size: 1.05em;
  }
  .lesstion-6-table th, .lesstion-6-table td {
    border: 1px solid #ddd; padding: 14px; text-align: left;
  }
  .lesstion-6-table th { background: #f5f5f5; font-weight: bold; }
  .lesstion-6-analogy {
    background: #fff7e6; padding: 22px; border-radius: 12px; border: 3px dashed #ffb302; margin: 30px 0; font-size: 1.1em;
  }
  .lesstion-6-highlight {
    background: #e6f7ff; padding: 16px; border-radius: 10px; border-left: 6px solid #1890ff; font-weight: bold; margin: 20px 0;
  }
  .lesstion-6-warning {
    background: #fff2e8; padding: 18px; border-left: 6px solid #fa541c; border-radius: 10px; margin: 25px 0;
  }
  .lesstion-6-tip {
    background: #f6ffed; padding: 16px; border-left: 6px solid #52c41a; border-radius: 10px; margin: 20px 0; font-weight: bold;
  }
  .lesstion-6-code {
    background: #1e1e1e; color: #dcdcdc; padding: 20px; border-radius: 12px; overflow-x: auto;
    margin: 25px 0; font-family: 'Consolas', monospace; position: relative;
  }
  .lesstion-6-code-rust::before {
    content: "Rust"; position: absolute; top: 10px; right: 14px;
    background: #e34c26; color: white; padding: 6px 14px; border-radius: 8px; font-weight: bold; font-size: 0.85em;
  }
  .lesstion-6-summary { font-size: 1.7em; text-align: center; color: #089e7f; margin: 60px 0 20px; }
  .lesstion-6-summary-box {
    background: linear-gradient(135deg, #f6ffed 0%, #e6f7ff 100%);
    padding: 30px; border-radius: 14px; border: 4px solid #36cfc9; font-size: 1.15em;
  }
  .lesstion-6-summary-list { padding-left: 25px; }
  .lesstion-6-summary-list li { margin: 18px 0; }
  .lesstion-6-homework {
    background: #fff0f5; padding: 25px; border-radius: 14px; border: 4px solid #eb2f96;
    text-align: center; font-size: 1.2em; margin: 40px 0;
  }
  .lesstion-6-ending {
    font-size: 1.25em; text-align: center; margin-top: 60px; padding: 30px;
    background: linear-gradient(120deg, #fff1eb 0%, #ffe7ba 100%);
    border-radius: 14px; border: 3px solid #ff7a45; font-style: italic; color: #595959;
  }
</style>
