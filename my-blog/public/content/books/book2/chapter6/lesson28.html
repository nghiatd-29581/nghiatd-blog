<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BÃ i 28: Chaos Engineering â€“ Tráº§n's Blog</title>
</head>
<body>

<div class="lesson-container">
  <p class="lesson-intro">
    ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i bÃ i viáº¿t "Ä‘iÃªn rá»“" nháº¥t trong toÃ n bá»™ lá»™ trÃ¬nh nÃ y! ğŸ§¨<br>
    ChÃºng ta Ä‘Ã£ há»c cÃ¡ch xÃ¢y dá»±ng "phÃ¡o Ä‘Ã i" (Infrastructure), láº¯p "cáº§u dao" (Resilience), vÃ  gáº¯n "camera an ninh" (Observability). BÃ¬nh thÆ°á»ng, má»™t láº­p trÃ¬nh viÃªn sáº½ cáº§u nguyá»‡n cho "phÃ¡o Ä‘Ã i" Ä‘Ã³ khÃ´ng bao giá» bá»‹ táº¥n cÃ´ng. NhÆ°ng hÃ´m nay, tÃ´i sáº½ dáº¡y báº¡n cÃ¡ch... tá»± tay Ä‘á»‘t phÃ¡o Ä‘Ã i cá»§a chÃ­nh mÃ¬nh.<br>
    Nghe cÃ³ váº» "khá»• dÃ¢m"? KhÃ´ng Ä‘Ã¢u, Ä‘Ã³ lÃ  Ä‘á»‰nh cao cá»§a sá»± tá»± tin. ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i Chaos Engineering.
  </p>


  <h2 class="lesson-chapter">CHÆ¯Æ NG 6: RESILIENCE & OBSERVABILITY</h2>
  <h3 class="lesson-title">BÃ€I 28: CHAOS ENGINEERING"</h3>
  <h3 class="lesson-title">KHI Láº¬P TRÃŒNH VIÃŠN HÃ“A THÃ‚N THÃ€NH "Káºº Há»¦Y DIá»†T"</h3>

  <h4 class="lesson-section">1. Chaos Engineering lÃ  gÃ¬? (VÃ  nÃ³ KHÃ”NG pháº£i lÃ  gÃ¬?)</h4>

  <p class="lesson-text">Theo Ä‘á»‹nh nghÄ©a cá»§a Principles of Chaos, Chaos Engineering lÃ  má»™t ká»· luáº­t thá»±c hiá»‡n cÃ¡c thÃ­ nghiá»‡m trÃªn há»‡ thá»‘ng nháº±m xÃ¢y dá»±ng sá»± tá»± tin vÃ o kháº£ nÄƒng chá»‹u Ä‘á»±ng cá»§a há»‡ thá»‘ng trÆ°á»›c nhá»¯ng Ä‘iá»u kiá»‡n kháº¯c nghiá»‡t á»Ÿ mÃ´i trÆ°á»ng Production.</p>

  <p class="lesson-text">HÃ£y lÃ m rÃµ:</p>

  <ul class="lesson-list">
    <li>NÃ³ KHÃ”NG pháº£i lÃ : PhÃ¡ hoáº¡i mÃ¹ quÃ¡ng. Báº¡n khÃ´ng vÃ o Server vÃ  gÃµ bá»«a lá»‡nh rm -rf / rá»“i cÆ°á»i hÃ´ há»‘.</li>
    <li>NÃ³ LÃ€: Má»™t thÃ­ nghiá»‡m khoa há»c. Báº¡n cÃ³ giáº£ thuyáº¿t, báº¡n cÃ³ biáº¿n sá»‘, vÃ  báº¡n kiá»ƒm soÃ¡t pháº¡m vi áº£nh hÆ°á»Ÿng (Blast Radius).</li>
  </ul>

  <h4 class="lesson-section">2. Nguá»“n gá»‘c: Con "Khá»‰ há»—n loáº¡n" (Chaos Monkey) cá»§a Netflix</h4>

  <p class="lesson-text">NÄƒm 2011, khi Netflix chuyá»ƒn dá»‹ch tá»« Data Center truyá»n thá»‘ng sang AWS, há» nháº­n ra ráº±ng mÃ´i trÆ°á»ng Cloud ráº¥t khÃ´ng á»•n Ä‘á»‹nh. Má»™t Server cÃ³ thá»ƒ "cháº¿t" báº¥t cá»© lÃºc nÃ o. Thay vÃ¬ ngá»“i khÃ³c, há» táº¡o ra Chaos Monkey.</p>

  <p class="lesson-text">Chaos Monkey lÃ  má»™t dá»‹ch vá»¥ cháº¡y ngáº§m, nhiá»‡m vá»¥ duy nháº¥t cá»§a nÃ³ lÃ ... ngáº«u nhiÃªn táº¯t cÃ¡c Instance (Server) Ä‘ang cháº¡y trÃªn Production.</p>

  <p class="lesson-text"><strong>GÃ³c hÃ i hÆ°á»›c:</strong> HÃ£y tÆ°á»Ÿng tÆ°á»£ng báº¡n Ä‘ang lÃ m viá»‡c trong má»™t vÄƒn phÃ²ng, vÃ  thá»‰nh thoáº£ng cÃ³ má»™t con khá»‰ xÃ´ng vÃ o rÃºt phÃ­ch cáº¯m mÃ¡y tÃ­nh cá»§a má»™t ai Ä‘Ã³. Náº¿u má»i ngÆ°á»i váº«n tiáº¿p tá»¥c lÃ m viá»‡c bÃ¬nh thÆ°á»ng nhÆ° khÃ´ng cÃ³ chuyá»‡n gÃ¬ xáº£y ra, nghÄ©a lÃ  quy trÃ¬nh cá»§a báº¡n cá»±c tá»‘t. Náº¿u cáº£ vÄƒn phÃ²ng loáº¡n lÃªn, nghÄ©a lÃ  báº¡n cÃ²n nhiá»u viá»‡c pháº£i lÃ m.</p>

  <p class="lesson-text">Netflix sau Ä‘Ã³ cÃ²n phÃ¡t triá»ƒn cáº£ má»™t "Äá»™i quÃ¢n khá»‰" (Simian Army):</p>
  <ul class="lesson-list">
    <li>Chaos Gorilla: ÄÃ¡nh sáº­p cáº£ má»™t Availability Zone (AZ).</li>
    <li>Chaos Kong: ÄÃ¡nh sáº­p cáº£ má»™t Region (VÃ¹ng Ä‘á»‹a lÃ½).</li>
    <li>Latency Monkey: Giáº£ láº­p máº¡ng lag Ä‘á»ƒ xem há»‡ thá»‘ng cÃ³ bá»‹ "treo" dÃ¢y chuyá»n khÃ´ng.</li>
  </ul>

  <h4 class="lesson-section">3. Quy trÃ¬nh 4 bÆ°á»›c cá»§a má»™t thÃ­ nghiá»‡m Chaos</h4>

  <p class="lesson-text">Äá»ƒ khÃ´ng bá»‹ Ä‘uá»•i viá»‡c sau khi thá»±c hiá»‡n Chaos Engineering, báº¡n pháº£i tuÃ¢n thá»§ quy trÃ¬nh sau:</p>

  <ol class="lesson-list">
    <li><strong>XÃ¡c Ä‘á»‹nh "Tráº¡ng thÃ¡i á»•n Ä‘á»‹nh" (Steady State):</strong> TrÆ°á»›c khi phÃ¡, báº¡n pháº£i biáº¿t lÃºc bÃ¬nh thÆ°á»ng há»‡ thá»‘ng trÃ´ng nhÆ° tháº¿ nÃ o.<br>
      - VÃ­ dá»¥: "á» tráº¡ng thÃ¡i bÃ¬nh thÆ°á»ng, tá»· lá»‡ lá»—i lÃ  < 0.1%, vÃ  thá»i gian pháº£n há»“i p99 lÃ  200ms."</li>
    <li><strong>ÄÆ°a ra giáº£ thuyáº¿t (Hypothesis):</strong> Dáº¡ng: "Náº¿u Ä‘iá»u X xáº£y ra, thÃ¬ tráº¡ng thÃ¡i á»•n Ä‘á»‹nh váº«n Ä‘Æ°á»£c duy trÃ¬."<br>
      - VÃ­ dá»¥: "Náº¿u tÃ´i táº¯t 1 trong 3 con DB Slave, ngÆ°á»i dÃ¹ng sáº½ khÃ´ng cáº£m nháº­n Ä‘Æ°á»£c gÃ¬ vÃ¬ Slave cÃ²n láº¡i sáº½ gÃ¡nh táº£i."</li>
    <li><strong>ÄÆ°a biáº¿n sá»‘ vÃ o (Introduce Variables):</strong> ÄÃ¢y lÃ  lÃºc "nghá»‹ch dáº¡i". Báº¡n thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng nhÆ°:<br>
      - Táº¯t má»™t dá»‹ch vá»¥.<br>
      - GÃ¢y ngháº½n CPU/RAM (Resource Exhaustion).<br>
      - Cáº¥u hÃ¬nh sai DNS.<br>
      - Cháº·n lÆ°u lÆ°á»£ng máº¡ng giá»¯a 2 Service.</li>
    <li><strong>Quan sÃ¡t vÃ  PhÃ¢n tÃ­ch (Analyze & Improve):</strong><br>
      - Náº¿u há»‡ thá»‘ng váº«n á»•n Ä‘á»‹nh â†’ ChÃºc má»«ng, giáº£ thuyáº¿t Ä‘Ãºng!<br>
      - Náº¿u há»‡ thá»‘ng sáº­p â†’ Tuyá»‡t vá»i! Báº¡n Ä‘Ã£ tÃ¬m ra má»™t "lá»— há»•ng" trÆ°á»›c khi khÃ¡ch hÃ ng tÃ¬m tháº¥y. HÃ£y Ä‘i vÃ¡ nÃ³ ngay.</li>
  </ol>

  <h4 class="lesson-section">4. Quáº£n lÃ½ "Blast Radius" (BÃ¡n kÃ­nh vá»¥ ná»•)</h4>

  <p class="lesson-text">ÄÃ¢y lÃ  ká»¹ nÄƒng phÃ¢n biá»‡t giá»¯a Master vÃ  Amateur. Báº¡n khÃ´ng Ä‘Æ°á»£c phÃ©p Ä‘á»ƒ má»™t thÃ­ nghiá»‡m lÃ m áº£nh hÆ°á»Ÿng Ä‘áº¿n táº¥t cáº£ khÃ¡ch hÃ ng.</p>

  <ul class="lesson-list">
    <li>Báº¯t Ä‘áº§u nhá»: Thá»­ nghiá»‡m trÃªn mÃ´i trÆ°á»ng Staging.</li>
    <li>TÄƒng dáº§n: Thá»­ nghiá»‡m trÃªn 1% ngÆ°á»i dÃ¹ng tháº­t (Canary).</li>
    <li>NÃºt há»§y diá»‡t (Big Red Button): Báº¡n pháº£i cÃ³ kháº£ nÄƒng dá»«ng thÃ­ nghiá»‡m vÃ  khÃ´i phá»¥c há»‡ thá»‘ng ngay láº­p tá»©c (Rollback) trong vÃ²ng vÃ i giÃ¢y náº¿u má»i thá»© vÆ°á»£t quÃ¡ táº§m kiá»ƒm soÃ¡t.</li>
  </ul>

  <h4 class="lesson-section">5. Diá»…n táº­p sá»± cá»‘ (Game Days)</h4>

  <p class="lesson-text">Game Day lÃ  má»™t sá»± kiá»‡n mÃ  cáº£ team Engineering dÃ nh ra vÃ i tiáº¿ng Ä‘á»ƒ cÃ¹ng nhau "chÆ¡i trÃ² tháº£m há»a".</p>

  <ul class="lesson-list">
    <li>Má»™t ngÆ°á»i Ä‘Ã³ng vai Chaos Master (NgÆ°á»i táº¡o lá»—i).</li>
    <li>Nhá»¯ng ngÆ°á»i cÃ²n láº¡i Ä‘Ã³ng vai Incident Responders (NgÆ°á»i xá»­ lÃ½ lá»—i).</li>
    <li>Má»¥c tiÃªu: Luyá»‡n táº­p kháº£ nÄƒng phá»‘i há»£p, kiá»ƒm tra xem há»‡ thá»‘ng Alert (BÃ i 27) cÃ³ hoáº¡t Ä‘á»™ng khÃ´ng, vÃ  cÃ¡c tÃ i liá»‡u hÆ°á»›ng dáº«n (Runbooks) cÃ³ cÃ²n Ä‘Ãºng khÃ´ng.</li>
  </ul>

  <p class="lesson-text"><strong>Lá»i khuyÃªn Master:</strong> Äá»«ng thÃ´ng bÃ¡o trÆ°á»›c thá»i Ä‘iá»ƒm chÃ­nh xÃ¡c cá»§a lá»—i cho team. HÃ£y Ä‘á»ƒ há» cáº£m nháº­n Ä‘Æ°á»£c sá»± báº¥t ngá», nhÆ°ng váº«n trong mÃ´i trÆ°á»ng Ä‘Æ°á»£c kiá»ƒm soÃ¡t.</p>

  <h4 class="lesson-section">6. CÃ¡c cÃ´ng cá»¥ "PhÃ¡ hoáº¡i" phá»• biáº¿n</h4>

  <div class="lesson-table-wrapper">
    <table class="lesson-table">
      <thead>
        <tr><th>CÃ´ng cá»¥</th><th>Äáº·c Ä‘iá»ƒm</th></tr>
      </thead>
      <tbody>
        <tr><td>Chaos Mesh</td><td>Cá»±c máº¡nh cho Kubernetes, cho phÃ©p phÃ¡ máº¡ng, lá»—i I/O, lá»—i Kernel.</td></tr>
        <tr><td>Gremlin</td><td>CÃ´ng cá»¥ tráº£ phÃ­ (SaaS), giao diá»‡n trá»±c quan, an toÃ n, dá»… quáº£n lÃ½ Blast Radius.</td></tr>
        <tr><td>LitmusChaos</td><td>MÃ£ nguá»“n má»Ÿ, táº­p trung vÃ o Cloud-Native vÃ  SRE.</td></tr>
        <tr><td>AWS Fault Injection Simulator (FIS)</td><td>Äá»“ chÃ­nh chá»§ tá»« AWS, chuyÃªn trá»‹ cÃ¡c lá»—i háº¡ táº§ng mÃ¢y.</td></tr>
      </tbody>
    </table>
  </div>

  <h4 class="lesson-section">7. VÃ­ dá»¥ thá»±c táº¿: Thá»­ thÃ¡ch "CÃ¡i cháº¿t cá»§a Redis"</h4>

  <ul class="lesson-list">
    <li><strong>Giáº£ thuyáº¿t:</strong> Há»‡ thá»‘ng dÃ¹ng Redis Ä‘á»ƒ Cache thÃ´ng tin sáº£n pháº©m. Náº¿u Redis sáº­p, Service sáº½ gá»i tháº³ng vÃ o DB. Há»‡ thá»‘ng sáº½ cháº­m hÆ¡n má»™t chÃºt nhÆ°ng khÃ´ng cháº¿t (Graceful Degradation).</li>
    <li><strong>Thá»±c hiá»‡n:</strong> Kill toÃ n bá»™ cá»¥m Redis trÃªn mÃ´i trÆ°á»ng Staging.</li>
    <li><strong>Káº¿t quáº£ báº¥t ngá»:</strong> Há»‡ thá»‘ng sáº­p luÃ´n!</li>
    <li><strong>NguyÃªn nhÃ¢n:</strong> Láº­p trÃ¬nh viÃªn quÃªn khÃ´ng bá»c lá»‡nh gá»i Redis trong try-catch. Khi Redis cháº¿t, code nÃ©m ra ngoáº¡i lá»‡ vÃ  lÃ m crash luÃ´n cáº£ luá»“ng xá»­ lÃ½ chÃ­nh.</li>
    <li><strong>HÃ nh Ä‘á»™ng:</strong> Fix code, thÃªm Circuit Breaker (BÃ i 25).</li>
  </ul>

  <p class="lesson-text">â†’ Káº¿t luáº­n: Náº¿u khÃ´ng cÃ³ Chaos Engineering, lá»—i nÃ y sáº½ ná»• ra vÃ o má»™t ngÃ y Sale lá»›n vÃ  gÃ¢y thiá»‡t háº¡i hÃ ng tá»· Ä‘á»“ng.</p>

  <h3 class="lesson-summary">Tá»”NG Káº¾T BÃ€I 28 & CHÆ¯Æ NG 6</h3>

  <div class="lesson-summary-box">
    <p class="lesson-text">ChÃºng ta Ä‘Ã£ hoÃ n thÃ nh ChÆ°Æ¡ng 6: RESILIENCE & OBSERVABILITY. Báº¡n Ä‘Ã£ náº¯m trong tay:</p>
    <ol class="lesson-list">
      <li>CÃ¡c máº«u thiáº¿t káº¿ chá»‹u lá»—i (Retry, Circuit Breaker).</li>
      <li>CÃ¡ch xÃ¢y dá»±ng há»‡ thá»‘ng sá»‘ng dai (High Availability).</li>
      <li>CÃ¡ch nhÃ¬n tháº¥u há»‡ thá»‘ng (Observability).</li>
      <li>VÃ  cuá»‘i cÃ¹ng lÃ  tÆ° duy chá»§ Ä‘á»™ng tÃ¬m lá»—i (Chaos Engineering).</li>
    </ol>
    <p class="lesson-text">ÄÃ¢y chÃ­nh lÃ  bá»™ ká»¹ nÄƒng giÃºp báº¡n váº­n hÃ nh nhá»¯ng há»‡ thá»‘ng cÃ³ quy mÃ´ hÃ ng triá»‡u ngÆ°á»i dÃ¹ng má»™t cÃ¡ch tá»± tin nháº¥t.</p>
  </div>

  <p class="lesson-ending">
    BÆ¯á»šC SANG CHÆ¯Æ NG 7: FRAMEWORK GIáº¢I BÃ€I TOÃN SYSTEM DESIGN<br>
    Tá»« bÃ i 1 Ä‘áº¿n bÃ i 28, chÃºng ta Ä‘Ã£ há»c vá» tá»«ng "máº£nh ghÃ©p" cá»§a má»™t bá»©c tranh lá»›n. NhÆ°ng khi Ä‘i phá»ng váº¥n hoáº·c khi báº¯t Ä‘áº§u má»™t dá»± Ã¡n má»›i, Sáº¿p chá»‰ Ä‘Æ°a cho báº¡n má»™t cÃ¢u há»i mÆ¡ há»“: "HÃ£y thiáº¿t káº¿ má»™t há»‡ thá»‘ng nhÆ° Facebook" hoáº·c "HÃ£y thiáº¿t káº¿ má»™t Grab cho thá»‹ trÆ°á»ng Viá»‡t Nam".<br>
    Báº¡n sáº½ báº¯t Ä‘áº§u tá»« Ä‘Ã¢u? Váº½ cÃ¡i gÃ¬ trÆ°á»›c? CÃ i DB gÃ¬?<br>
    ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i chÆ°Æ¡ng quan trá»ng nháº¥t Ä‘á»ƒ Ä‘i phá»ng váº¥n: CHÆ¯Æ NG 7.<br>
    BÃ i tiáº¿p theo: BÃ i 29: Clarify Requirements (Há»i Ä‘Ãºng cÃ¢u há»i). ChÃºng ta sáº½ há»c cÃ¡ch "váº·n váº¹o" ngÆ°á»i phá»ng váº¥n Ä‘á»ƒ khÃ´ng bao giá» thiáº¿t káº¿ sai yÃªu cáº§u.<br>
    CÃ¢u há»i cho báº¡n: Báº¡n Ä‘Ã£ bao giá» tá»± tay "phÃ¡" há»‡ thá»‘ng cá»§a mÃ¬nh (dÃ¹ lÃ  vÃ´ tÃ¬nh hay cá»‘ Ã½) Ä‘á»ƒ kiá»ƒm tra Ä‘á»™ bá»n chÆ°a? Náº¿u Ä‘Æ°á»£c phÃ©p lÃ m má»™t thÃ­ nghiá»‡m Chaos ngay ngÃ y mai, báº¡n sáº½ thá»­ phÃ¡ cÃ¡i gÃ¬ Ä‘áº§u tiÃªn?
  </p>
</div>

</body>
</html>